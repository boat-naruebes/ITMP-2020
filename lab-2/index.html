<!DOCTYPE html>
<html>
<head>
	<title>The Members - ITKMITL Multimedia Programming 2563</title>

	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<link rel="stylesheet" type="text/css" href="lab.css">
	
</head>
<body>
	<div id="app">
		<h2> Exchange Rates </h2><br>

		<h3> 
		code: {{current.code}}<br>
		alphaCode: {{current.alphaCode}}<br>
		numericCode: {{current.numericCode}}<br>
		name: {{current.name}}<br>
		rate: {{current.rate}}<br>
		inverseRate: {{current.inverseRate}}<br>
		</h3>

		<button  v-for = "i in Exchange " @click="cal(i)">

    					{{i.code}}

   		</button>


		<h2>update = {{current.date}}</h2>

	</div>
	

	<script>
		fetch('http://www.floatrates.com/daily/thb.json')
		.then(response => response.json())
		.then(json => {
			console.log(json)
			app.Exchange = json
		})
		let app = new Vue({
			el: '#app',

			data:
			{ // data คือ ค่า defalt ของ vue เอาออกหรือเปลี่ยนไไม่ได้
				current:{
				"code":"EUR",
				"alphaCode":"EUR",
				"numericCode":"978",
				"name":"Euro",
				"rate":"0.027211935425104",
				"inverseRate":"36.748580517263",
			
				},

				Exchange:{
				"code":"EUR",
				"alphaCode":"EUR",
				"numericCode":"978",
				"name":"Euro",
				"rate":0.027211935425104,
				"date":"Thu, 8 Oct 2020 12:00:01 GMT",
				"inverseRate":36.748580517263
				},


			},
			methods:{
				cal: function(i){
					let x = this.Exchange
					let y = this.Exchange = i
					console.log(this.current = this.Exchange)
					this.Exchange = x;
					}
			}
		})
		
			
		
	</script>
</body>
</html>